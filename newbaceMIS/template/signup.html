{% extends "main.html" %}

{% block title %}Register a new user{% endblock %}

{% block script %}
<script type="text/javascript">
$(document).ready(function(){
		$('#number').keypress(function(e) {
    		var a = [];
   			var k = e.which;
    
   			for (i = 48; i < 58; i++)
        		a.push(i);
    		a.push(8);
    		if (!(a.indexOf(k)>=0))
        	e.preventDefault();
		});
		
		var email = document.getElementById('email');
		var pattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

		$('#email').blur(function() {
		    if (!pattern.test(email.value)) 
			{
				
				alert('Please provide a valid email address');
				email.focus;
				return false;
			}
});
})

</script>

{% endblock %}


{% block maincontent %}
<div class="article">
{% if user %}
{% if user.accounType == 'administrator' %}
<h2><span><strong>Register employee</strong></span></h2>
{% endif %}
{% else %}
<h2><span><strong>Register customer</strong></span></h2>
{% endif %}
<div class="clr">
	<img src="/images/images_2.jpg" width="613" height="197" alt="Join us" />
</div>
<div class="clr"></div>

<form action="/signup" method="POST" >
	<ol>
          	<li>
              <label for="email">Email Address</label>
              <input type="text" id="email" name="email" class="text" required="required"/>
            </li>
            <li>
              <label for="password">Password</label>
              <input type="text" name="password" class="text"/>
            </li>
            <li>
              <label for="firstname">First Name</label>
              <input type="text" name="firstname" class="text" required="required"/>
            </li>
            <li>
              <label for="lastname">Last Name</label>
              <input type="lastname" name="lastname" class="text" required="required"/>
            </li>
            <li>
              <label for="contact">Contact Number</label>
              <input type="text" name="contact" class="text" id="number" required="required"/>
            </li>
            <li>
              <label for="address">Address</label>
              <input type="text" name="address" class="text" required="required"/>
            </li>
            <li>
              <label for="postalcode">PostalCode</label>
              <input type="number" name="postalcode" class="text" id="number" required="required"/>
            </li>
            <li>
            {% if user.accounType == 'administrator' %}
			<label for="accType">Account Type</label>
			<select name="accType">
  				<option value="administrator">administrator</option>
  				<option value="employee">employee</option>
			</select> 
			{% endif %}
            </li>
            <li>
              <input type="image" name="imageField" id="imageField" src="/images/submit.gif" class="send" />
              <div class="clr"></div>
            </li>
          </ol>
</form>

</div>

{% endblock %}
